<!DOCTYPE html>
<html lang="en">

<!-- Ok, so I've figured out a ramshackle (as it happens) way 
to use CSS to get this stage moving, but it's even more
choppy than using SVG viewBox animations.  I think I need to
either render the entire stage as an image, and use that image; or,
I need to have individual background images for each frame rendered
ahead of time from the generative material, and run through the
background images with the timeline (vice tracking viewBox values
via the timeline) -->


<!-- Ok, tried it one more time with WAY smaller files, and it seems
much more acceptable.  I think this may be ok.  I'm not sure.
There must be a way to maintain the fidelity without the need
to bo beyond native browsre support -->


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traverse Tiles Animation with CSS</title>
    <style>
        img {
            width: 700px;
            height: 933px;
        }

        .big-div-container {
            width: 700px;
            height: 933px;
            overflow: hidden;
        }

        .big-div {
            display: grid;
            grid-template-areas: 'a b c .'
                '. . g .'
                '. . k l';
            transform: translateX(0);
        }

        .img-overlay-wrap,
        .our-char-wrap {
            position: relative;
            display: inline-block;
            /*shrinks container to image size*/
        }

        .img-overlay-wrap svg {
            position: absolute;
            top: 20px;
            left: 200px;
        }

        .our-char-wrap .our-char {
            position: absolute;
            top: 100px;
            left: 300px;
            /* animate these top/left properties to animate the character! */
        }

        .photo2 {
            grid-area: a;
        }

        .photo3 {
            grid-area: b;
        }

        .photo4 {
            grid-area: c;
        }

        .photo5 {
            grid-area: g;
        }

        .photo6 {
            grid-area: k;
        }

        .photo7 {
            grid-area: l;
        }
    </style>
</head>

<body>

    <!-- im going to try to put the whole grid into a div and transform to animate through the level -->
    <div class="big-div-container">
        <div class="our-char-wrap">
            <div class="big-div">
                <div class="img-overlay-wrap">
                    <div class="photo2">
                        <img src="../../photos/700x933.jpg" alt="" srcset="">
                        <svg id="svg_button" viewBox="0 0 200 200" width="50" height="50">
                                <circle cx="100" cy="100" r="40" fill='#34ff09' stroke="pink" stroke-width="2em" />
                        </svg>
                    </div>
                </div>
                <div class="photo3">
                    <img src="../../photos/700x933.jpg" alt="" srcset="">
                </div>
                <div class="photo4">
                    <img src="../../photos/700x933.jpg" alt="" srcset="">
                </div>
                <div class="photo5">
                    <img src="../../photos/700x933.jpg" alt="" srcset="">
                </div>
                <div class="photo6">
                    <img src="../../photos/700x933.jpg" alt="" srcset="">
                </div>
                <div class="photo7">
                    <img src="../../photos/700x933.jpg" alt="" srcset="">
                </div>
            </div>
            <svg class="our-char" width="140" viewBox="0 0 60 72" fill="pink">
                <g id="whole_figure">
                <path class="cls-1" d="M80.5,88.17q-.5.57-1,1.11a3.41,3.41,0,0,0-.59-2A2,2,0,0,0,76.72,86c-1.19.19-1.53,1.49-1.71,2.58a20.26,20.26,0,0,1-.55,3.26,1.19,1.19,0,0,1-.08.2s0,.09-.07.14l0,0-.05.07a.64.64,0,0,1-.1.13,1.07,1.07,0,0,1-.14.16h0l-.16.15,0,0-.16.12a2.92,2.92,0,0,1-.37.24l-.19.1c-.15.08-.3.14-.43.2l-.2.07-.45.16h-.12c-2,.75-1.92.7-2.7,1.35a16.17,16.17,0,0,1-4.28.37c-6.56-.35-13.35-5.12-14.84-9.89a6,6,0,0,1-.26-2.5,5.11,5.11,0,0,1,.52-1.73A7.55,7.55,0,0,1,52.06,79a10,10,0,0,0,1.13,1.12l.42.33c.19.14.39.27.59.4l.3.19.07,0,.39.23a10.12,10.12,0,0,0,.93.47l.43.19.33.14.31.12c.21.09.43.17.65.24a2.29,2.29,0,0,0,.37.12l.44.14c.29.09.57.17.86.24a3.9,3.9,0,0,0,.46.12l.49.12.69.14.66.12.25,0c.57.09,1.09.16,1.54.21l.25,0,.15,0,.21,0,.26,0h.05l.3,0,.23,0h.09c.18,0,.79,0,1.71,0l.23,0H67l.34,0c.71,0,1.55-.15,2.46-.3l.47-.09.83-.18c.48-.1,1-.23,1.46-.37l.3-.1c.41-.12.82-.26,1.23-.41l.6-.23c.2-.09.41-.17.61-.27l.62-.28.3-.16.62-.32.12-.07h0A9.27,9.27,0,0,0,79.2,80a6.82,6.82,0,0,0,2.32-2.63h0a10.09,10.09,0,0,0,.63-.8,6.13,6.13,0,0,1,1.6,2.85C84.36,82,83,85.27,80.5,88.17Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M79.45,58.21a13.12,13.12,0,0,1-2.16,2.86,9.15,9.15,0,0,0-.3-1.86c-.2-.75-1-3.8-3.55-4.67-.19-.07-2.3-.77-3.47.41a3.37,3.37,0,0,0-.28,3.68c.77,1.54,2.21,1.38,2.71,2.8a3.81,3.81,0,0,1-.52,3c-1.14,1.75-3.27,1.7-4.15,2.48a24.58,24.58,0,0,1-7.36,1.31,8.85,8.85,0,0,1-5.76-1.78,6.4,6.4,0,0,1-1.7-2.34,9.4,9.4,0,0,1-.58-4.46c.06-.56.13-1.06.22-1.5.57,0,1.12,0,1.66,0h.29l.38,0a18.82,18.82,0,0,0,3.43-.54l.42-.11c.14,0,.27-.08.41-.12l.75-.23.4-.14.29-.1.05,0,.33-.12h0c.49-.18.92-.36,1.27-.52,2.26-1,9.41-4,9.68-8.9A6.49,6.49,0,0,0,71.83,46a10.77,10.77,0,0,1,4.53,1.6c.37.24,3.69,2.49,4.07,6.2A7.57,7.57,0,0,1,79.45,58.21Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M51.4,30.65a7.06,7.06,0,0,1,2.13-2.12,9.88,9.88,0,0,1,1-.59,10.89,10.89,0,0,1,1.08-.4l.16-.05a8.68,8.68,0,0,1,1-.24h0a11.83,11.83,0,0,1,3.4-.2,5.91,5.91,0,0,1,1.59.36,4.17,4.17,0,0,1,1.37.82c1.64,1.51.93,3.48,3.58,8,.75,1.28.78,1.08,1.65,2.51s1.63,2.71,2.25,4A11.89,11.89,0,0,1,71.83,46a6.49,6.49,0,0,1,.08,1.31c-.27,4.86-7.42,7.93-9.68,8.9-.35.16-.78.34-1.27.52l-.33.13-.05,0-.29.1-.4.14-.75.23c-.14,0-.27.09-.41.12l-.42.11a18.82,18.82,0,0,1-3.43.54l-.38,0h-.29c-.54,0-1.09,0-1.66,0a18.33,18.33,0,0,1-2.81-.44c-1.4-.34-9.23-2.89-10-7.55-.32-2,.86-3.64,2.81-6.39C44.76,40.64,47.78,36.26,51.4,30.65Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M29.7,17.58" transform="translate(-38.89 -26.81)"/>
                <path class="cls-2" d="M79.45,89.28a8.75,8.75,0,0,1-1,3.36,8.72,8.72,0,0,1-2.16,3.3,6.77,6.77,0,0,1-3.44,1.72c-2.08.38-3.59,1-4.34-.86a1.1,1.1,0,0,1,.38-1.58l.25-.21c.78-.65.75-.6,2.7-1.35H72l.45-.16.2-.07c.13-.06.28-.12.43-.2l.19-.1a2.92,2.92,0,0,0,.37-.24l.16-.12,0,0,.16-.15h0a1.07,1.07,0,0,0,.14-.16.64.64,0,0,0,.1-.13l.05-.07,0,0s0-.09.07-.14a1.19,1.19,0,0,0,.08-.2A20.26,20.26,0,0,0,75,88.57c.18-1.09.52-2.39,1.71-2.58a2,2,0,0,1,2.14,1.27A3.41,3.41,0,0,1,79.45,89.28Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-2" d="M52.91,64.06c-3.62-1.28-5.45-.83-6.46,0C45.2,65,45,66.6,42.84,67.89c-.33.19-2.12,1.25-2.84.64s.23-3.14.39-3.48a10.09,10.09,0,0,1,7.35-5.81,9.78,9.78,0,0,1,4.59.36A9.4,9.4,0,0,0,52.91,64.06Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-2" d="M50.49,75.55a11.44,11.44,0,0,0-4.68,0c-1.1.13-2.13,1-3.75,1.74-.17.09-2.16.9-2.71,0-.72-1.2,2.12-4.21,5.43-5.68A10.78,10.78,0,0,1,51,70.84,9.4,9.4,0,0,0,50.49,75.55Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-2" d="M50.07,85.49a6.45,6.45,0,0,0-3.49-.18A9,9,0,0,0,43.35,87c-1.94,1.46-2.37,2.73-3.09,2.58s-1.32-1.82-1.16-3.23c.3-2.75,3.31-4.77,5.8-5.42a9.14,9.14,0,0,1,5.43.34A5.11,5.11,0,0,0,49.81,83,6,6,0,0,0,50.07,85.49Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M75.06,67.5c-1.59,1.67-4.61,3.34-6.44,2.22a2.38,2.38,0,0,1-1.24-2.29,1.1,1.1,0,0,1,.35-.56c.88-.78,3-.73,4.15-2.48a3.81,3.81,0,0,0,.52-3c-.5-1.42-1.94-1.26-2.71-2.8A3.37,3.37,0,0,1,70,55c1.17-1.18,3.28-.48,3.47-.41,2.52.87,3.35,3.92,3.55,4.67a9.15,9.15,0,0,1,.3,1.86A8.63,8.63,0,0,1,75.06,67.5Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M71.11,83.26c.48-.1,1-.23,1.46-.37C72.07,83,71.59,83.15,71.11,83.26Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M82.85,75.5c-.22.36-.46.7-.7,1a10.09,10.09,0,0,1-.63.8,8.6,8.6,0,0,0,.81-4.21c0-.7.28-3.78-1.82-5.07A2,2,0,0,0,78,67.73a3,3,0,0,0-1,3.19,16.71,16.71,0,0,1,.52,3.2c.16,1.33-1.55,2.9-1.65,3-1.64,1.62-2.82.1-3.43,1.32a2.22,2.22,0,0,0,.66,2.31c.9.86,2.4.79,3.83.31l-.12.07-.62.32-.3.16-.62.28c-.2.1-.41.18-.61.27l-.6.23c-.41.15-.82.29-1.23.41l-.3.1c-.5.14-1,.26-1.46.37l-.83.18-.47.09c-.91.15-1.75.25-2.46.3l-.34,0h-.16l-.23,0c-.92,0-1.53,0-1.71,0h-.09l-.23,0-.3,0h-.05l-.26,0-.21,0-.15,0-.25,0c-.45-.05-1-.12-1.54-.21l-.25,0-.66-.12-.69-.14-.49-.12c-.15,0-.31-.07-.46-.12s-.57-.15-.86-.24L58,82.63a2.29,2.29,0,0,1-.37-.12c-.22-.07-.44-.15-.65-.24l-.31-.12L56.32,82l-.43-.19a10.12,10.12,0,0,1-.93-.47l-.39-.23-.07,0-.3-.19c-.2-.13-.4-.26-.59-.4l-.42-.33A10,10,0,0,1,52.06,79a7,7,0,0,1-1.35-2.51,6.08,6.08,0,0,1-.22-1h0A9.4,9.4,0,0,1,51,70.84a7.35,7.35,0,0,1,2-3,13.33,13.33,0,0,1,1.58-1.49,8.85,8.85,0,0,0,5.76,1.78,24.58,24.58,0,0,0,7.36-1.31,1.1,1.1,0,0,0-.35.56,2.38,2.38,0,0,0,1.24,2.29c1.83,1.12,4.85-.55,6.44-2.22a8.63,8.63,0,0,0,2.23-6.43,13.12,13.12,0,0,0,2.16-2.86,9.88,9.88,0,0,1,5.08,4C87.81,67.62,83.48,74.51,82.85,75.5Z" transform="translate(-38.89 -26.81)"/>
                <path class="cls-1" d="M81.52,77.32h0A6.82,6.82,0,0,1,79.2,80,9.27,9.27,0,0,1,77,81.05h0c-1.43.48-2.93.55-3.83-.31a2.22,2.22,0,0,1-.66-2.31c.61-1.22,1.79.3,3.43-1.32.1-.09,1.81-1.66,1.65-3a16.71,16.71,0,0,0-.52-3.2,3,3,0,0,1,1-3.19,2,2,0,0,1,2.47.31c2.1,1.29,1.79,4.37,1.82,5.07A8.6,8.6,0,0,1,81.52,77.32Z" transform="translate(-38.89 -26.81)"/>
                <g>
                  <path class="cls-1" d="M59.86,46.23a3.71,3.71,0,0,1-2.59,2.62c-2.15.58-9.16-.18-11.44-1.54L43.55,46h0l-.29,1.79-.19.53a2.44,2.44,0,0,1,1,.72c.38.51.24.63.24.63s2.73,1.24,2.73,1.64v.41s2.78.41,3,.92.16.54.16.54,2.27-.2,2.59.4.41.49.41.49,3,.58,3.33.15a.77.77,0,0,0,.12-.74,1.54,1.54,0,0,0,2.43.28c1.31-1.31,1.47-1.23,1.47-1.23s1.27-1.22,1.29-1.77.37-.66.37-.66a6.16,6.16,0,0,0,.36-1.38c0-.24.24-.45.12-.91s-.6-1.57-1.61-1.57A9.48,9.48,0,0,0,59.86,46.23Z" transform="translate(-38.89 -26.81)"/>
                  <line class="cls-1" x1="6.63" y1="20.32" x2="6.41" y2="23.29"/>
                  <line class="cls-1" x1="9.81" y1="21.5" x2="9.53" y2="25.13"/>
                  <line class="cls-1" x1="13.58" y1="22.09" x2="13.71" y2="26.54"/>
                  <line class="cls-1" x1="16.95" y1="22.22" x2="17.78" y2="26.63"/>
                  <line class="cls-1" x1="19.56" y1="21.47" x2="21.68" y2="25.68"/>
                  <line class="cls-1" x1="20.66" y1="20.19" x2="23.13" y2="23.42"/>
                  <line class="cls-1" x1="21.12" y1="19.49" x2="23.71" y2="21.87"/>
                </g>
                <path class="cls-3" d="M71.84,42.45" transform="translate(-38.89 -26.81)"/>
                <g>
                  <path class="cls-1" d="M61.23,38.61a17.33,17.33,0,0,0-7.85-5.06,15.77,15.77,0,0,0-1.64-.42c-.35-.08-.7-.14-1.06-.19h0l.17-.27.2-.31c1.67-2.46,4.08-4.1,5.91-3.69C59.55,29.26,61.75,34.26,61.23,38.61Z" transform="translate(-38.89 -26.81)"/>
                  <path class="cls-1" d="M61.23,38.61a7.7,7.7,0,0,1-1.7,4.19c-1.67,2-5.06,3.46-7.65,2.13a5.23,5.23,0,0,1-2.55-3.51,12.28,12.28,0,0,1-.26-4.13c0-.12,0-.24,0-.35s0-.16,0-.23a10.17,10.17,0,0,1,.38-1.44c0-.09.06-.18.1-.28l0-.1.16-.39,0,0c.06-.15.12-.29.19-.43a10.52,10.52,0,0,1,.59-1.1h0c.36.05.71.11,1.06.19a15.77,15.77,0,0,1,1.64.42,17.33,17.33,0,0,1,7.85,5.06Z" transform="translate(-38.89 -26.81)"/>
                  <path class="cls-1" d="M51,32.36l-.2.31-.17.27A10.52,10.52,0,0,0,50,34c-.07.14-.13.28-.19.43l0,0-.16.39,0,.1a12.33,12.33,0,0,0-3.25-1,11.68,11.68,0,0,0-1.86-.16,4.44,4.44,0,0,0-1.74.27,2,2,0,0,0-.83.7,2.3,2.3,0,0,0-.35.7,12.16,12.16,0,0,1,.2-1.37c.49-2.2,2.12-5.83,4.65-5.9a4,4,0,0,1,2.93,1.52,9.58,9.58,0,0,1,.8,1A7.75,7.75,0,0,1,51,32.36Z" transform="translate(-38.89 -26.81)"/>
                  <path class="cls-1" d="M49.07,37.29a12.28,12.28,0,0,0,.26,4.13,3.75,3.75,0,0,1-.74.51,5,5,0,0,1-4.74,0,4.05,4.05,0,0,1-1.5-1.58,9,9,0,0,1-.74-4.89,2.3,2.3,0,0,1,.35-.7,2,2,0,0,1,.83-.7,4.44,4.44,0,0,1,1.74-.27,11.68,11.68,0,0,1,1.86.16,12.33,12.33,0,0,1,3.25,1c0,.1-.07.19-.1.28a10.17,10.17,0,0,0-.38,1.44c0,.07,0,.15,0,.23S49.09,37.17,49.07,37.29Z" transform="translate(-38.89 -26.81)"/>
                  <line class="cls-1" x1="22.35" y1="11.8" x2="22.34" y2="11.8"/>
                  <path class="cls-4" d="M56.86,35.06a3.3,3.3,0,1,1-6.59-.42,3.62,3.62,0,0,1,.41-1.7c.36.05.71.11,1.06.19a15.77,15.77,0,0,1,1.64.42A17,17,0,0,1,56.86,35.06Z" transform="translate(-38.89 -26.81)"/>
                  <path class="cls-4" d="M46.67,35.07a2.37,2.37,0,0,1-4.73,0c0-.1,0-.21,0-.31a2,2,0,0,1,.83-.7,4.44,4.44,0,0,1,1.74-.27,11.68,11.68,0,0,1,1.86.16A2.38,2.38,0,0,1,46.67,35.07Z" transform="translate(-38.89 -26.81)"/>
                  <circle class="cls-5" cx="4.9" cy="8.04" r="0.85"/>
                  <path class="cls-5" d="M53.48,34a1.09,1.09,0,1,1-1.74-.86,15.77,15.77,0,0,1,1.64.42A1,1,0,0,1,53.48,34Z" transform="translate(-38.89 -26.81)"/>
                </g>
                <path class="cls-6" d="M51.17,38.42" transform="translate(-38.89 -26.81)"/>
                <path class="cls-6" d="M47.08,38" transform="translate(-38.89 -26.81)"/>
                <path class="cls-6" d="M76.53,33.36" transform="translate(-38.89 -26.81)"/>
            </g>
            </svg>
              
        </div>
    </div>
    <script src="../../node_modules/animejs/lib/anime.min.js"></script>
    <script>
        let tl = anime.timeline({
            easing: 'linear',
            duration: 5000,
            autoplay: false
        });
        tl.add({
            targets: '.big-div',
            translateX: -1400
        }).add({
            targets: '.big-div',
            translateY: -1866
        }).add({
            targets: '.our-char',
            left: -200,
            top: 200,
        });

        let tl_2 = anime({
            targets: '.our-char', 
            duration: 7000,
            scale: 1.3,
            translateY: 40,
            autoplay: false,
            direction: 'alternate',
            loop: true
        });

        document.querySelector('#whole_figure').onclick = tl_2.restart;
        document.querySelector('#svg_button').onclick = tl.restart;

        //make function to animate a bounce back into the bounds of the image
    </script>
</body>

</html>

